<div class="profile">
    <div class="empty"></div>

    <div class="avatar">
        <form class="formAvatar" action="/api/v2/user/update-info?id=<%= profile.id %>&_method=PATCH" method="POST">
            <img class="img-avatar" src="<%= profile.avatar %>" alt="Cannot load avatar" >
            <input class="invisibility" type="text" value="" name="avatar">
        </form>

        <% if(isYourProfile) { %>
            <div class="btn-edit-avatar">
                <label for="input-avatar"><i class="fas fa-camera icon-change-avatar"></i></label>
                <input id="input-avatar" type="file" accept="image/*" onchange="loadAvatar()">
            </div>
        <% } %>
        
    </div>

    <div class="detail">
        <div class="name">
            <%= profile.name %>
        </div>
    </div>

    <div class="profile-actions flex" data-other_id="<%= profile.id %>">
        
    <% if(!isYourProfile) {%>
        <!-- no association -->
        <% if(status === 'none') { %>
            <div class="add-friend item btn">
                <i class="fa fa-user-plus"></i>
                Add Friend
            </div>
        <% } %>
        
        <!-- one user sent add-friend-request -->
        <% if(status === 'pending') { %>
            <% if(userRole === 'userReq') {%>
                <div class="cancel-request item btn">
                    <i class="fa fa-user-plus"></i>
                    Cancel Request
                </div>
            <% } %>
            <% if(userRole == 'userRes') { %>
                <div class="respond-request item">
                    <div class="respond-btn">
                        <i class="fa fa-user-plus"></i>
                        Respond
                    </div>

                    <div class="answer">
                        <div class="confirm">
                            <i class="fas fa-check-circle"></i>
                            Confirm
                        </div>

                        <div class="delete">
                            <i class="fas fa-times-circle"></i>
                            Delete
                        </div>
                    </div>
                </div>
            <% } %>
        <% } %>
        <!-- already is friend -->
        <% if(status === 'friend') {%>
            <div class="friend item">
                <div class="btn">
                    <i class="fas fa-user-edit"></i>
                    Friend
                </div>

                <div class="unfriend btn">
                    <i class="fas fa-times-circle"></i>
                    Unfriend
                </div>
            </div>
        <% } %>

        <div class="message item btn">
            <i class="far fa-comment-dots"></i>
            Message
        </div>
    <% } %>

    </div>


    <div class="wrapper-options">
        <div class="options flex">
            <div class="privacy">
                <i class="fas fa-lock"></i>
            </div>

            <% if(isYourProfile) { %>
                <div class="settings">
                    <i class="fas fa-cog"></i>
                </div>
            <% } %>
        </div>
        
        <form class="info" action="/api/v2/user/update-info?_method=PATCH" method="POST">
            <div class="options-privacy">
                <div class="name">
                    <label for="name">Name:</label>
                    <input class="input-disabled" type="text" value="<%= profile.name %>" name="name">
                </div>
                <div class="nick-name">
                    <label for="nickName">NickName:</label>
                    <input class="input-disabled" type="text" value="<%= profile.nickName%>" name="nickName">
                </div>
                <div class="email">
                    <label for="email">Email:</label>
                    <input class="input-disabled" type="email" value="<%= profile.email%>" name="email">
                </div>
                <div class="address">
                    <label for="address">Address</label>
                    <input class="input-disabled" type="text" value="<%= profile.address%>" name="address">
                </div>

                <% if(isYourProfile) { %>
                    <div class="button flex">
                        <div class="btn btn-edit" onclick="editInfo()">Edit</div>
                    </div>
                <% } %>
                
            </div>
        </form>
        
        <% if(isYourProfile) { %>
            <div class="options-settings">
                <div class="item change-password flex">
                    Change your password?
                    <div class="btn btn-open-change-password-form">Change</div>
                </div>

                <div class="item delete-account flex">
                    Delete your account?
                    <div class="btn btn-delete-account">Delete</div>
                </div>

                <div class="item delete-account flex">
                    Log out?
                    <a href="/api/v2/auth/logout"><div class="btn">Log out</div></a>
                </div>
            </div>
        <% } %>
    </div>
</div>